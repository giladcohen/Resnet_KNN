[vars]
ROOT_DIR = /data/gilad/logs/ma_scores/wrn/mnist/log_2238_210318_ma_score_wrn_mnist_wd_0.00078-SUPERSEED=21031802
TEST_DIR = ${vars:ROOT_DIR}/test
PREDICTION_DIR = ${vars:ROOT_DIR}/prediction
CHECKPOINT_DIR = ${vars:ROOT_DIR}/checkpoint

[self]
DEBUG_MODE = True
SUPERSEED = 21031802

[self.network.system]
RELU_LEAKINESS = 0.1

[self.dataset]
DATASET_NAME = mnist
VALIDATION_SET_SIZE = 0
TEST_SET_SIZE = 10000
NUM_CHANNELS = 1

[self.dataset.data_augmentation]
FLIP_IMAGE = False
DRIFT_X = 4
DRIFT_Y = 4
ZCA_NORMALIZATION = True

[self.train]

[self.train.train_control]
EVAL_BATCH_SIZE  = 2200
ROOT_DIR = ${vars:ROOT_DIR}
TEST_DIR = ${vars:TEST_DIR}
PREDICTION_DIR = ${vars:PREDICTION_DIR}
CHECKPOINT_DIR = ${vars:CHECKPOINT_DIR}
PCA_REDUCTION = False
PCA_EMBEDDING_DIMS = 640

[self.test]

[self.test.test_control]
TESTER = multi_layer_knn_classifier
CHECKPOINT_FILE = model_schedule.ckpt-500
KNN_NEIGHBORS = 1
KNN_NORM = L1
KNN_WEIGHTS = uniform
KNN_JOBS = 20
COLLECTED_LAYERS = [input_images, init_conv,
                    unit_1_0, unit_1_1, unit_1_2, unit_1_3,
                    unit_2_0, unit_2_1, unit_2_2, unit_2_3,
                    unit_3_0, unit_3_1, unit_3_2, unit_3_3]
APPLY_RELU = True
APPLY_GAP = True
